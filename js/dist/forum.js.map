{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@justoverclock/header-slideshow/webpack/bootstrap","webpack://@justoverclock/header-slideshow/webpack/runtime/compat get default export","webpack://@justoverclock/header-slideshow/webpack/runtime/define property getters","webpack://@justoverclock/header-slideshow/webpack/runtime/hasOwnProperty shorthand","webpack://@justoverclock/header-slideshow/webpack/runtime/make namespace object","webpack://@justoverclock/header-slideshow/external root \"flarum.core.compat['extend']\"","webpack://@justoverclock/header-slideshow/external root \"flarum.core.compat['app']\"","webpack://@justoverclock/header-slideshow/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@justoverclock/header-slideshow/./node_modules/hero-carousel/index.js","webpack://@justoverclock/header-slideshow/external root \"flarum.core.compat['common/components/Page']\"","webpack://@justoverclock/header-slideshow/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","function Carousel(carouselEl, speed) {\n  this.slides = carouselEl.querySelector('.carousel__slides');\n  this.controls = carouselEl.querySelector('.carousel__controls');\n  this.carouselSpeed = speed || 5000;\n\n  this.slides.addEventListener('keydown', e => {\n    this.handleKeyPress(e);\n  });\n  this.slides.parentElement.addEventListener('touchstart', e => {\n    this.handleSwipe(e);\n  });\n\n  this.init();\n}\n\n// Get things going\nCarousel.prototype.init = function() {\n  this.current = this.slides.firstElementChild;\n  this.createControls();\n  this.current.classList.add('carousel__slide--current');\n\n  // Beginning the cycle\n  this.carouselCycle = setInterval(() => {\n    this.nextSlide();\n  }, this.carouselSpeed);\n};\n\n// Updates the carousel by taking in the target slide\nCarousel.prototype.updateCarousel = function(target) {\n  // Pause the cycle\n  clearInterval(this.carouselCycle);\n\n  // Removing active class from current slide\n  Array.from(this.slides.children).forEach(el =>\n    el.classList.remove('carousel__slide--current')\n  );\n\n  // Set active class on new current slide\n  target.classList.add('carousel__slide--current');\n\n  // Get index of new slide and update controls\n  const targetIndex = this.getCurrentSlideIndex(target);\n  this.updateControls(targetIndex);\n\n  // Updating current variable\n  this.current = target;\n\n  // Restart carousel cycle\n  this.carouselCycle = setInterval(() => {\n    this.nextSlide();\n  }, this.carouselSpeed);\n};\n\nCarousel.prototype.nextSlide = function() {\n  this.updateCarousel(\n    this.current.nextElementSibling || this.slides.firstElementChild\n  );\n};\n\nCarousel.prototype.prevSlide = function() {\n  this.updateCarousel(\n    this.current.previousElementSibling || this.slides.lastElementChild\n  );\n};\n\n// Handling the indicator buttons on click\nCarousel.prototype.handleControls = function(_el, index) {\n  const newSlide = Array.from(this.slides.children)[index];\n  this.updateCarousel(newSlide);\n  return this.carouselCycle;\n};\n\n// Keyboard nav (tabindex set on 'carousel__slides' div)\nCarousel.prototype.handleKeyPress = function(e) {\n  let target;\n  if (e.key === 'ArrowRight') {\n    target = this.current.nextElementSibling || this.slides.firstElementChild;\n  } else if (e.key === 'ArrowLeft') {\n    target =\n      this.current.previousElementSibling || this.slides.lastElementChild;\n  } else {\n    return;\n  }\n  this.updateCarousel(target);\n};\n\nCarousel.prototype.createControls = function() {\n  const numberOfSlides = this.slides.children.length;\n  for (let i = 0; i < numberOfSlides; i++) {\n    const indicator = document.createElement('div');\n    indicator.setAttribute('role', 'button');\n    indicator.setAttribute('class', 'carousel__control');\n    this.controls.insertAdjacentElement('beforeend', indicator);\n  }\n  this.controls.firstElementChild.classList.add('carousel__control--current');\n  const controlIndicators = Array.from(this.controls.children);\n  controlIndicators.forEach((el, index) => {\n    el.addEventListener('click', () => this.handleControls(el, index));\n  });\n};\n\nCarousel.prototype.updateControls = function(index) {\n  const indicators = Array.from(\n    this.controls.querySelectorAll('.carousel__control')\n  );\n  indicators.forEach(el => el.classList.remove('carousel__control--current'));\n  indicators[index].classList.add('carousel__control--current');\n};\n\nCarousel.prototype.getCurrentSlideIndex = function(currentSlide) {\n  const index = Array.from(\n    this.slides.querySelectorAll('.carousel__slide')\n  ).findIndex(slide => slide === currentSlide);\n  return index;\n};\n\n// Touch/Swipe support\nCarousel.prototype.handleSwipe = function(e) {\n  const startPos = e.touches[0].clientX;\n  const threshold = 120;\n\n  function touchEnd(touchEvent, carouselInstance) {\n    carouselInstance.slides.removeEventListener('touchend', touchEnd);\n    const endPos = touchEvent.changedTouches[0].clientX;\n    if (startPos < endPos && endPos - startPos > threshold) {\n      carouselInstance.prevSlide();\n    } else if (startPos > endPos && startPos - endPos > threshold) {\n      carouselInstance.nextSlide();\n    }\n  }\n  this.slides.addEventListener('touchend', touchEvent => {\n    touchEnd(touchEvent, this);\n  });\n};\n\nexport default Carousel;\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","/*\n * This file is part of justoverclock/custom-header.\n *\n * Copyright (c) 2021 Marco Colia.\n * https://flarum.it\n *\n * For the full copyright and license information, please view the LICENSE.md\n * file that was distributed with this source code.\n */\n\nimport { extend } from 'flarum/extend';\nimport app from 'flarum/app';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport Carousel from 'hero-carousel';\nimport Page from \"flarum/common/components/Page\";\n\napp.initializers.add('justoverclock/header-slideshow', () => {\n    extend(IndexPage.prototype, 'view', function (vdom) {\n        // 检查是否为首页\n        if (window.location.pathname === '/' || window.location.pathname === '') {\n            if (vdom.children && vdom.children.splice) {\n                // Carousel 的代码放在这里\n                // ... [Carousel 相关代码] ...\n                const ImageOne = app.forum.attribute('ImageOne');\n            const ImageTwo = app.forum.attribute('ImageTwo');\n            const ImageThree = app.forum.attribute('ImageThree');\n            const LinkOne = app.forum.attribute('LinkOne');\n            const LinkTwo = app.forum.attribute('LinkTwo');\n            const LinkThree = app.forum.attribute('LinkThree');\n\n            //codice per l'header\n            const insert = m('div', { className: 'carousel' }, [\n                m('div', { className: 'carousel__slides', tabindex: '0' }, [\n                    m('div', { className: 'carousel__slide' }, [\n                        m('div', { className: 'carousel__slide-content' }, [\n                            m('h2', { className: 'carousel__slide-title' }, app.forum.attribute('TitleSlide1') || 'Set your title'),\n                            m('p',\n                                { className: 'carousel__slide-description' },\n                                app.forum.attribute('TextSlide1') || 'Set the slogan for your first slide into the admin panel'\n                            ),\n                            m('a', { className: 'carousel__slide-button', href: LinkOne }, app.forum.attribute('BtnSlide1') || 'Button Text Here'),\n                        ]),\n                        m('img', { className: 'carousel__slide-image', src: ImageOne }),\n                    ]),\n                    m('div', { className: 'carousel__slide' }, [\n                        m('div', { className: 'carousel__slide-content' }, [\n                            m('h2', { className: 'carousel__slide-title' }, app.forum.attribute('TitleSlide2') || 'Set your title'),\n                            m('p',\n                                { className: 'carousel__slide-description' },\n                                app.forum.attribute('TextSlide2') || 'Set the slogan for your second slide into the admin panel'\n                            ),\n                            m('a', { className: 'carousel__slide-button', href: LinkTwo }, app.forum.attribute('BtnSlide2') || 'Button Text Here'),\n                        ]),\n                        m('img', { className: 'carousel__slide-image', src: ImageTwo }),\n                    ]),\n                    m('div', { className: 'carousel__slide' }, [\n                        m('div', { className: 'carousel__slide-content' }, [\n                            m('h2', { className: 'carousel__slide-title' }, app.forum.attribute('TitleSlide3') || 'Set your title'),\n                            m('p',\n                                { className: 'carousel__slide-description' },\n                              app.forum.attribute('TextSlide3') || 'Set the slogan for your third slide into the admin panel'\n                            ),\n                            m('a', { className: 'carousel__slide-button', href: LinkThree }, app.forum.attribute('BtnSlide3') || 'Button Text Here'),\n                        ]),\n                        m('img', { className: 'carousel__slide-image', src: ImageThree }),\n                    ]),\n                ]),\n                m('div', { className: 'carousel__controls' }),\n            ]);\n                vdom.children.splice(0, 0, insert); // 将 Carousel 添加到页面上\n            }\n        }\n    });\n\n    extend(IndexPage.prototype, 'oncreate', function (vnode) {\n        const welcomeHero = document.getElementsByClassName('Hero WelcomeHero');\n        new Carousel(document.querySelector('.carousel'), app.forum.attribute('TransitionTime') * 1000) || 5000;\n        // nascondiamo la welcome hero nella pagina principale\n        if (app.current.matches(IndexPage)) {\n            for (var i = 0; i < welcomeHero.length; i++) {\n                welcomeHero[i].style.display = 'none';\n            }\n        }\n\n        // 添加一个事件监听器来阻止在轮播图区域的上下滑动\n        const carousel = document.querySelector('.carousel');\n        carousel.addEventListener('touchmove', function(e) {\n            e.preventDefault();\n        }, { passive: false });\n    });\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","Carousel","carouselEl","speed","_this","this","slides","querySelector","controls","carouselSpeed","addEventListener","e","handleKeyPress","parentElement","handleSwipe","init","_this2","current","firstElementChild","createControls","classList","add","carouselCycle","setInterval","nextSlide","updateCarousel","target","_this3","clearInterval","Array","from","children","forEach","el","remove","targetIndex","getCurrentSlideIndex","updateControls","nextElementSibling","prevSlide","previousElementSibling","lastElementChild","handleControls","_el","index","newSlide","_this4","numberOfSlides","length","i","indicator","document","createElement","setAttribute","insertAdjacentElement","indicators","querySelectorAll","currentSlide","findIndex","slide","_this5","startPos","touches","clientX","touchEnd","touchEvent","carouselInstance","removeEventListener","endPos","changedTouches","app","extend","IndexPage","vdom","window","location","pathname","splice","ImageOne","attribute","ImageTwo","ImageThree","LinkOne","LinkTwo","LinkThree","insert","m","className","tabindex","href","src","vnode","welcomeHero","getElementsByClassName","matches","style","display","preventDefault","passive"],"sourceRoot":""}